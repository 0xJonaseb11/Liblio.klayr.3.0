"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.validateTransaction = void 0;
const validator_1 = require("@klayr/validator");
const codec_1 = require("@klayr/codec");
const schema_1 = require("./schema");
const validateTransaction = (transaction, paramsSchema = codec_1.emptySchema) => {
    const transactionWithEmptyParams = {
        ...transaction,
        params: Buffer.alloc(0),
    };
    validator_1.validator.validate(schema_1.baseTransactionSchema, transactionWithEmptyParams);
    if (typeof transaction.params !== 'object' || transaction.params === null) {
        throw new Error('Transaction object params must be of type object and not null');
    }
    validator_1.validator.validate(paramsSchema, transaction.params);
};
exports.validateTransaction = validateTransaction;
//# sourceMappingURL=validate.js.map